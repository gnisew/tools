<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>布袋蓮實驗 - 烏衣行</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <aside class="sidebar">
        <header class="sidebar-header">
            <a href="../../index.html" class="back-link">‹ 返回首頁</a>
            <h1>布袋蓮生態實驗</h1>
        </header>

        <div class="control-group">
            <div class="label-row">
                <label>💧 水位控制</label>
                <span id="levelText" class="badge">中水位</span>
            </div>
            <input type="range" id="waterLevel" min="0" max="100" value="50">
        </div>

        <div class="info-card">
            <h3>觀察重點</h3>
            <ul>
                <li><span class="dot orange"></span><strong>浮囊構造：</strong> 葉柄基部膨大，提供浮力。</li>
                <li><span class="dot brown"></span><strong>簇生根系：</strong> 懸浮於水中，維持平衡。</li>
                <li><span class="dot pink"></span><strong>隨波逐流：</strong> 點擊上方雲朵，觀察布袋蓮隨風飄移。</li>
            </ul>
        </div>
    </aside>

    <main class="canvas-area">
        <svg id="simulation" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid slice">
            <defs>
                <linearGradient id="soilGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#F0E6D2;" /> 
                    <stop offset="100%" style="stop-color:#D7CCC8;" /> 
                </linearGradient>
                <radialGradient id="bulbGradient" cx="50%" cy="50%" r="50%">
                    <stop offset="0%" style="stop-color:#AED581;" /> 
                    <stop offset="100%" style="stop-color:#689F38;" /> 
                </radialGradient>
            </defs>

            <rect width="100%" height="100%" fill="#E3F2FD" />
            
            <g id="cloud-left-group" transform="translate(100, 80)">
                <g class="cloud-btn">
                    <path d="M 0 0 C -20 0 -30 20 -10 30 C -10 45 15 50 25 40 C 40 45 60 30 50 15 C 50 0 30 -10 15 5 C 5 -5 0 0 0 0 Z" fill="#FFFFFF" />
                </g>
            </g>
            <g id="wind-left" class="wind-effect" transform="translate(170, 100)">
                <path class="wind-line" d="M0 0 L 100 20" stroke="rgba(255,255,255,0.8)" stroke-width="3" fill="none" />
            </g>

            <g id="cloud-right-group" transform="translate(650, 150)">
                <g class="cloud-btn">
                    <path d="M -10 10 Q -30 10 -35 -5 Q -35 -25 -10 -30 Q 0 -50 30 -45 Q 55 -55 75 -35 Q 95 -35 95 -10 Q 95 15 70 15 L -10 10 Z" fill="#FFFFFF" />
                </g>
            </g>
            <g id="wind-right" class="wind-effect" transform="translate(640, 100) scale(-1, 1)">
                <path class="wind-line" d="M0 0 L 100 20" stroke="rgba(255,255,255,0.8)" stroke-width="3" fill="none" />
            </g>

            <path d="M0 480 Q 400 470 800 480 L 800 600 L 0 600 Z" fill="url(#soilGradient)" />
            <rect id="water-body" x="0" y="300" width="800" height="300" fill="rgba(33, 150, 243, 0.2)" />
            <line id="water-surface" x1="0" y1="300" x2="800" y2="300" stroke="#29B6F6" stroke-width="2" stroke-dasharray="8,4" />

            <g id="creatures-layer"></g>

            <g id="hyacinth-position" transform="translate(400, 300)">
                <g id="hyacinth-lean-wrapper">
                    <g id="hyacinth-body">
                        <g id="roots" stroke="#5D4037" stroke-width="1.2" opacity="0.6">
                            <path d="M0 0 L -15 50 M 0 0 L -5 65 M 0 0 L 0 80 M 0 0 L 8 70 M 0 0 L 18 55" />
                        </g>
                        <g id="leaves-structure">
                            <g transform="rotate(-35)">
                                <ellipse cx="-6" cy="-18" rx="12" ry="10" fill="url(#bulbGradient)" />
                                <line x1="0" y1="-10" x2="0" y2="-50" stroke="#7CB342" stroke-width="4" />
                                <circle cx="0" cy="-65" r="20" fill="#81C784" stroke="#558B2F" />
                            </g>
                            <g transform="rotate(40)">
                                <ellipse cx="5" cy="-18" rx="10" ry="10" fill="url(#bulbGradient)" />
                                <line x1="0" y1="-6" x2="0" y2="-40" stroke="#7CB342" stroke-width="4" />
                                <circle cx="0" cy="-55" r="16" fill="#A5D6A7" stroke="#558B2F" />
                            </g>
                            <g>
                                <ellipse cx="0" cy="-10" rx="16" ry="14" fill="url(#bulbGradient)" />
                                <line x1="0" y1="-22" x2="0" y2="-60" stroke="#7CB342" stroke-width="4" />
                                <circle cx="0" cy="-85" r="26" fill="#66BB6A" stroke="#388E3C" />
                            </g>
                        </g>
                    </g>
                </g>
            </g>
        </svg>
    </main>

    <script src="script.js"></script>
</body>
</html>