// ==========================================
// 1. 柱式/齊奏類節奏 (Block Chords) - 對應語法 .C
// ==========================================
const RHYTHM_BLOCK = {
    // 代碼對照: -1=低根(1.), -2=低五(5.), 0=根(1), 1=三(3), 2=五(5)
    
    // --- 基礎鋪底類 (Pad/Basic) ---
    1: { name: "全音符 (Pad) - 溫暖鋪底", steps: [
        // 加入 -1 (低音根音) 讓聲音更厚實
        { t: 0, len: 4, notes: [-1, 0, 1, 2] } 
    ]},
    2: { name: "四分音符 (March) - 進行曲", steps: [
        { t: 0, len: 1, notes: [-1, 0, 1, 2] }, 
        { t: 1, len: 1, notes: [-1, 0, 1, 2] },
        { t: 2, len: 1, notes: [-1, 0, 1, 2] }, 
        { t: 3, len: 1, notes: [-1, 0, 1, 2] }
    ]},
    3: { name: "八分音符 (Rock) - 搖滾直球", steps: [
        // 強調節奏感，低音與中音同時轟炸
        { t: 0, len: 0.5, notes: [-1, 1, 2] }, { t: 0.5, len: 0.5, notes: [-1, 1, 2] },
        { t: 1, len: 0.5, notes: [-1, 1, 2] }, { t: 1.5, len: 0.5, notes: [-1, 1, 2] },
        { t: 2, len: 0.5, notes: [-1, 1, 2] }, { t: 2.5, len: 0.5, notes: [-1, 1, 2] },
        { t: 3, len: 0.5, notes: [-1, 1, 2] }, { t: 3.5, len: 0.5, notes: [-1, 1, 2] }
    ]},

    // --- 鋼琴伴奏風格 (Piano Styles) ---
    // 特色：左手彈低音 (Bass)，右手彈和弦 (Chord)
    4: { name: "鋼琴柱式 (Bass + Chord)", steps: [
        { t: 0, len: 1, notes: [-1] },       // 蹦 (低音根)
        { t: 1, len: 1, notes: [0, 1, 2] },  // 恰 (中音和弦)
        { t: 2, len: 1, notes: [-2] },       // 蹦 (低音五度 - 讓低音有變化)
        { t: 3, len: 1, notes: [0, 1, 2] }   // 恰
    ]},
    5: { name: "鋼琴華爾滋 (Waltz 3/4)", steps: [
        // 模擬 3 拍子的 蹦-恰-恰 (雖然在 4/4 拍中，第4拍留白或延音)
        { t: 0, len: 1, notes: [-1] },       // 蹦
        { t: 1, len: 1, notes: [1, 2] },     // 恰
        { t: 2, len: 1, notes: [1, 2] },     // 恰
        { t: 3, len: 1, notes: [0] }         // (輕輕的根音填補)
    ]},

    // --- 吉他刷法風格 (Guitar Strumming) ---
    // 特色：利用低音代碼模擬「刷低音弦」的聽感
    6: { name: "民謠吉他 (Folk) - 慢刷", steps: [
        { t: 0, len: 1, notes: [-1] },          // 根 (撥低音弦)
        { t: 1, len: 0.5, notes: [-1, 1, 2] },  // 下 (刷全弦)
        { t: 1.5, len: 0.5, notes: [1, 2] },    // 上 (只刷高音弦)
        { t: 2, len: 1, notes: [-1, 0] },       // 根
        { t: 3, len: 0.5, notes: [-1, 1, 2] },  // 下
        { t: 3.5, len: 0.5, notes: [1, 2] }     // 上
    ]},
    7: { name: "鄉村節奏 (Country) - 根五互換", steps: [
        // 經典的 Two-Step 節奏
        { t: 0, len: 1, notes: [-1] },       // 根
        { t: 1, len: 1, notes: [1, 2] },     // 刷
        { t: 2, len: 1, notes: [-2] },       // 五 (換低音)
        { t: 3, len: 1, notes: [1, 2] }      // 刷
    ]},
    8: { name: "切分刷法 (Syncopated)", steps: [
        // 3-3-2 節奏 (動感)
        { t: 0, len: 1.5, notes: [-1, 0, 1, 2] }, // 1.5拍 長刷
        { t: 1.5, len: 1.5, notes: [-1, 1, 2] },  // 1.5拍 切分刷
        { t: 3, len: 1, notes: [-1, 0, 1, 2] }    // 1拍 收尾
    ]},

    // --- 舞曲與律動 (Dance & Groove) ---
    9: { name: "雷鬼 (Reggae) - 反拍", steps: [
        // 正拍不彈，反拍強調 (嗯-恰-嗯-恰)
        { t: 0.5, len: 0.25, notes: [0, 1, 2] }, 
        { t: 1.5, len: 0.25, notes: [0, 1, 2] }, 
        { t: 2.5, len: 0.25, notes: [0, 1, 2] }, 
        { t: 3.5, len: 0.25, notes: [0, 1, 2] } 
    ]},
    10: { name: "迪斯可 (Disco) - 8 Beat", steps: [
        // 低音八分音符跑動 + 反拍高音
        { t: 0, len: 0.5, notes: [-1] },      // Bass
        { t: 0.5, len: 0.5, notes: [1, 2] },  // Hihat/Chord
        { t: 1, len: 0.5, notes: [-1] },      // Bass
        { t: 1.5, len: 0.5, notes: [1, 2] },
        { t: 2, len: 0.5, notes: [-1] },
        { t: 2.5, len: 0.5, notes: [1, 2] },
        { t: 3, len: 0.5, notes: [-1] },
        { t: 3.5, len: 0.5, notes: [1, 2] }
    ]},
    11: { name: "巴薩諾瓦 (Bossa Nova) 簡易版", steps: [
        // 慵懶的切分節奏
        { t: 0, len: 1.5, notes: [-1, 1, 2] }, // 根音長
        { t: 1.5, len: 1, notes: [1, 2] },    // 切分和弦
        { t: 2.5, len: 1, notes: [-2] },      // 換低音五度
        { t: 3.5, len: 0.5, notes: [1, 2] }   // 短和弦
    ]},
    12: { name: "強力和弦 (Power Chord) - 搖滾", steps: [
        // 只彈 根音與五度，不彈三度 (適合破音吉他)
        { t: 0, len: 0.5, notes: [-1, -2, 0] }, // 低音厚度全開
        { t: 0.5, len: 0.5, notes: [-1, -2] },
        { t: 1, len: 0.5, notes: [-1, -2, 0] },
        { t: 1.5, len: 0.5, notes: [-1, -2] },
        { t: 2, len: 0.5, notes: [-1, -2, 0] },
        { t: 2.5, len: 0.5, notes: [-1, -2] },
        { t: 3, len: 0.5, notes: [-1, -2, 0] },
        { t: 3.5, len: 0.5, notes: [-1, -2] }
    ]}
};

// ==========================================
// 2. 分解和弦類節奏 (Arpeggios) - 對應語法 :C
// ==========================================
const RHYTHM_ARP = {
    // --- 基礎類 ---
    1: { name: "上行琶音 (1-3-5-3)", steps: [
        { t: 0, len: 1, notes: [0] }, { t: 1, len: 1, notes: [1] },
        { t: 2, len: 1, notes: [2] }, { t: 3, len: 1, notes: [1] }
    ]},
    2: { name: "流動 (16分)", steps: [
        { t: 0, len: 0.5, notes: [0] }, { t: 0.5, len: 0.5, notes: [2] }, 
        { t: 1, len: 0.5, notes: [1] }, { t: 1.5, len: 0.5, notes: [2] },
        { t: 2, len: 0.5, notes: [0] }, { t: 2.5, len: 0.5, notes: [2] }, 
        { t: 3, len: 0.5, notes: [1] }, { t: 3.5, len: 0.5, notes: [2] }
    ]},
    3: { name: "阿爾貝蒂 (古典)", steps: [
        { t: 0, len: 0.5, notes: [0] }, { t: 0.5, len: 0.5, notes: [2] }, 
        { t: 1, len: 0.5, notes: [1] }, { t: 1.5, len: 0.5, notes: [2] },
        { t: 2, len: 0.5, notes: [0] }, { t: 2.5, len: 0.5, notes: [2] }, 
        { t: 3, len: 0.5, notes: [1] }, { t: 3.5, len: 0.5, notes: [2] }
    ]},
    4: { name: "抒情分解 (慢)", steps: [
        { t: 0, len: 0.5, notes: [0] }, { t: 0.5, len: 0.5, notes: [2] },
        { t: 1, len: 1, notes: [1] }, 
        { t: 2, len: 0.5, notes: [0] }, { t: 2.5, len: 0.5, notes: [2] },
        { t: 3, len: 1, notes: [1] }
    ]},
    5: { name: "根五 (Bass)", steps: [
        { t: 0, len: 2, notes: [0] }, { t: 2, len: 2, notes: [2] }
    ]},

    // --- 鋼琴抒情系列 (Piano Ballad 12 Types) ---
    // 代碼表: -1=1.(低根), -2=5.(低五), -3=7.(低七), -4=3.(低三)
    //         0=1(根), 9=2(九音), 1=3(三度), 2=5(五度), 3=7(七度)
    
    // 1./ 5./ 2/ 3 ( 3 -
    6: { name: "鋼琴抒情 1 (Add9)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 1.5, len: 2.5, notes: [1] }   // 3 (延音)
    ]},
    
    // 1./ 5./ 2/ 3/ 5 -
    7: { name: "鋼琴抒情 2 (Add9)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 1.5, len: 0.5, notes: [1] },  // 3
        { t: 2.0, len: 2.0, notes: [2] }   // 5
    ]},
    
    // 1./ 5./ 2/ 3/ 7 -
    8: { name: "鋼琴抒情 3 (Add9+7)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 1.5, len: 0.5, notes: [1] },  // 3
        { t: 2.0, len: 2.0, notes: [3] }   // 7
    ]},
    
    // 1./ 5./ 3/ 2 ( 2 -
    9: { name: "鋼琴抒情 4 (Sus2)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [1] },  // 3
        { t: 1.5, len: 2.5, notes: [9] }   // 2 (九音/Sus2)
    ]},
    
    // 1./ 5./ 1/ 2 ( 2 -
    10: { name: "鋼琴抒情 5 (Standard)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [0] },  // 1 (根)
        { t: 1.5, len: 2.5, notes: [9] }   // 2 (九音)
    ]},
    
    // 1./ 5./ 1/ 2/ 3 -
    11: { name: "鋼琴抒情 6", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [0] },  // 1 (根)
        { t: 1.5, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 2.0, len: 2.0, notes: [1] }   // 3
    ]},
    
    // 1./ 5./ 1/ 2/ 5 -
    12: { name: "鋼琴抒情 7", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [0] },  // 1 (根)
        { t: 1.5, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 2.0, len: 2.0, notes: [2] }   // 5
    ]},
    
    // 1./ 5./ 1/ 2/ 7 -
    13: { name: "鋼琴抒情 8", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [0] },  // 1 (根)
        { t: 1.5, len: 0.5, notes: [9] },  // 2 (九音)
        { t: 2.0, len: 2.0, notes: [3] }   // 7
    ]},
    
    // 1./ 5./ 7./ 1 ( 1 -
    14: { name: "鋼琴抒情 9 (Bass Line)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [-3] }, // 7. (低七)
        { t: 1.5, len: 2.5, notes: [0] }   // 1 (根)
    ]},
    
    // 1./ 5./ 7./ 1 3 -
    15: { name: "鋼琴抒情 10 (Bass Line)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [-3] }, // 7. (低七)
        { t: 1.5, len: 0.5, notes: [0] },  // 1 (根)
        { t: 2.0, len: 2.0, notes: [1] }   // 3
    ]},
    
    // 1./ 5./ 7./ 1 5 -
    16: { name: "鋼琴抒情 11 (Bass Line)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [-3] }, // 7. (低七)
        { t: 1.5, len: 0.5, notes: [0] },  // 1 (根)
        { t: 2.0, len: 2.0, notes: [2] }   // 5
    ]},
    
    // 1./ 5./ 1/ 7. -
    17: { name: "鋼琴抒情 12 (Bass Turn)", steps: [
        { t: 0, len: 0.5, notes: [-1] },   // 1.
        { t: 0.5, len: 0.5, notes: [-2] }, // 5.
        { t: 1.0, len: 0.5, notes: [0] },  // 1 (根)
        { t: 1.5, len: 2.5, notes: [-3] }  // 7. (低七)
    ]}
};